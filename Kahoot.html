<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kahoot Quiz Answers Fetcher</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        #output {
            margin-top: 20px;
        }
        .result {
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <h1>Kahoot Quiz Answer Fetcher</h1>
    
    <label for="quizID">Enter Kahoot Quiz ID:</label>
    <input type="text" id="quizID" placeholder="Enter Quiz ID">
    <button onclick="fetchQuizAnswers()">Get Answers</button>
    
    <div id="output"></div>

    <script>
        // Import Libs
        const axios = require('axios');

        // Get Kahoot Quiz ID to retrieve answers
        const QuizID = prompt("Input Quiz ID for kahoot:");
        // Using the standard colour choices for kahoot
        const colourlist = ["Red", "Blue", "Yellow", "Green"];

        async function GetAnswers(KahootID) {
            const base_url = "https://create.kahoot.it/rest/kahoots/";
            const request_url = base_url + KahootID;
            // Send a get request to return a .json file on the kahoot quiz
            const answers = await axios.get(request_url);
            const fent = answers.data;

            // loop on json file "fent"
            for (let i = 0; i < fent.questions.length; i++) {
                if (fent.questions[i]) {
                    // Inform Question type to user 
                    console.log("index", i + 1, "THING:", fent.questions[i].type);
                if ('question' in fent.questions[i]) {
                // Print Question to user 
                console.log("index", i + 1, "THING:", fent.questions[i].question);
            }
            if ('choices' in fent.questions[i]) {
                // Loop on choices to check correct answer and colour
                for (let j = 0; j < fent.questions[i].choices.length; j++) {
                    if (fent.questions[i].choices[j].correct === true) {
                        console.log("index", i + 1, "Answer:", fent.questions[i].choices[j].answer);
                        console.log(colourlist[j]);
                    }
                }
            }
        }
    }
}

GetAnswers(QuizID);


    </script>
</body>
</html>
